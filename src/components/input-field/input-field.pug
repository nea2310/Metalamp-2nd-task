include ../error-message/error-message.pug

mixin input-field(options ={})
  -
    const { 
      width = '',
      validation = '',
      placeholder = '',
      labelText = '',
      hasArrow = false,
      inputType = 'text',
      inputMin = '',
      inputMax = '',
    } = options

    const prepareOptions = require ('@com/input-field/input-field-utils.js').default;

    const {
      elementName,
      arrowModifier,
      widthChecked,
      validationChecked
      } = prepareOptions({
        width,
        validation,
        hasArrow,
    });

  div(class = `${elementName} js-${elementName} ${elementName}_width_${widthChecked} js-${elementName}_validation_${validationChecked}`)
    div(class = `${elementName}__error-message js-${elementName}__error-message`)
      +error-message()
    label(class = `${elementName}__label`)
      if labelText
        h3(class = `${elementName}__label-text`)= labelText
      input(class = `${elementName}__input js-${elementName}__input${arrowModifier}` placeholder = placeholder type = inputType min = inputMin max = inputMax )
      if hasArrow
        button(class = `${elementName}__link` aria-label = name)